/**!
 * Sortable
 * @author  RubaXa   <trash@rubaxa.org>
 * @license MIT
 */
function Sentence(){this.store={content:document.getElementById("content")}}!function(t){"use strict";"function"==typeof define&&define.amd?define(t):"undefined"!=typeof module&&"undefined"!=typeof module.exports?module.exports=t():window.Sortable=t()}(function(){"use strict";function t(t,n){this.el=t,this.options=n=n||{};var o={group:Math.random(),store:null,handle:null,draggable:t.children[0]&&t.children[0].nodeName||(/[uo]l/i.test(t.nodeName)?"li":"*"),ghostClass:"sortable-ghost",ignore:"a, img",filter:null,animation:0};for(var r in o)n[r]=n[r]||o[r];B.forEach(function(o){n[o]=e(this,n[o]||I),i(t,o.substr(2).toLowerCase(),n[o])},this),t[C]=n.group;for(var a in this)"_"===a.charAt(0)&&(this[a]=e(this,this[a]));i(t,"mousedown",this._onTapStart),i(t,"touchstart",this._onTapStart),T&&i(t,"selectstart",this._onTapStart),i(t,"dragover",this._onDragOver),i(t,"dragenter",this._onDragOver),k.push(this._onDragOver),n.store&&this.sort(n.store.get(this))}function e(t,e){var n=L.call(arguments,2);return e.bind?e.bind.apply(e,[t].concat(n)):function(){return e.apply(t,n.concat(L.call(arguments)))}}function n(t,e,n){if("*"===e)return t;if(t){n=n||w,e=e.split(".");var o=e.shift().toUpperCase(),i=new RegExp("\\s("+e.join("|")+")\\s","g");do if(!(""!==o&&t.nodeName!=o||e.length&&((" "+t.className+" ").match(i)||[]).length!=e.length))return t;while(t!==n&&(t=t.parentNode))}return null}function o(t){t.dataTransfer.dropEffect="move",t.preventDefault()}function i(t,e,n){t.addEventListener(e,n,!1)}function r(t,e,n){t.removeEventListener(e,n,!1)}function a(t,e,n){if(t)if(t.classList)t.classList[n?"add":"remove"](e);else{var o=(" "+t.className+" ").replace(/\s+/g," ").replace(" "+e+" ","");t.className=o+(n?" "+e:"")}}function s(t,e,n){var o=t&&t.style;if(o){if(void 0===n)return w.defaultView&&w.defaultView.getComputedStyle?n=w.defaultView.getComputedStyle(t,""):t.currentStyle&&(n=t.currentStyle),void 0===e?n:n[e];e in o||(e="-webkit-"+e),o[e]=n+("string"==typeof n?"":"px")}}function l(t,e,n){if(t){var o=t.getElementsByTagName(e),i=0,r=o.length;if(n)for(;r>i;i++)n(o[i],i);return o}return[]}function c(t){return t.draggable=!1}function d(){D=!1}function h(t,e){var n=t.lastElementChild.getBoundingClientRect();return e.clientY-(n.top+n.height)>5}function u(t){for(var e=t.tagName+t.className+t.src+t.href+t.textContent,n=e.length,o=0;n--;)o+=e.charCodeAt(n);return o.toString(36)}var p,f,m,g,v,y,_,b,E,C="Sortable"+(new Date).getTime(),S=window,w=S.document,N=S.parseInt,T=!!w.createElement("div").dragDrop,D=!1,x=function(t,e){var n=w.createEvent("Event");return n.initEvent(t,!0,!0),n.item=e,n},A=function(t,e,n){t.dispatchEvent(x(e,n||t))},B="onAdd onUpdate onRemove onStart onEnd onFilter".split(" "),I=function(){},L=[].slice,k=[];return t.prototype={constructor:t,_applyEffects:function(){a(p,this.options.ghostClass,!0)},_onTapStart:function(t){var e=t.touches&&t.touches[0],r=(e||t).target,a=this.options,s=this.el,d=a.filter;if("mousedown"!==t.type||0===t.button){if("function"==typeof d&&d.call(this,r,this))return void A(s,"filter",r);if(d&&(d=d.split(",").filter(function(t){return n(r,t.trim(),s)}),d.length))return void A(s,"filter",r);if(a.handle&&(r=n(r,a.handle,s)),r=n(r,a.draggable,s),r&&"selectstart"==t.type&&"A"!=r.tagName&&"IMG"!=r.tagName&&r.dragDrop(),r&&!p&&r.parentNode===s){b=t,m=this.el,p=r,g=p.nextSibling,_=this.options.group,p.draggable=!0,a.ignore.split(",").forEach(function(t){l(r,t.trim(),c)}),e&&(b={target:r,clientX:e.clientX,clientY:e.clientY},this._onDragStart(b,!0),t.preventDefault()),i(w,"mouseup",this._onDrop),i(w,"touchend",this._onDrop),i(w,"touchcancel",this._onDrop),i(this.el,"dragstart",this._onDragStart),i(this.el,"dragend",this._onDrop),i(w,"dragover",o);try{w.selection?w.selection.empty():window.getSelection().removeAllRanges()}catch(h){}A(p,"start")}}},_emulateDragOver:function(){if(E){s(f,"display","none");var t=w.elementFromPoint(E.clientX,E.clientY),e=t,n=this.options.group,o=k.length;if(e)do{if(e[C]===n){for(;o--;)k[o]({clientX:E.clientX,clientY:E.clientY,target:t,rootEl:e});break}t=e}while(e=e.parentNode);s(f,"display","")}},_onTouchMove:function(t){if(b){var e=t.touches[0],n=e.clientX-b.clientX,o=e.clientY-b.clientY,i="translate3d("+n+"px,"+o+"px,0)";E=e,s(f,"webkitTransform",i),s(f,"mozTransform",i),s(f,"msTransform",i),s(f,"transform",i),t.preventDefault()}},_onDragStart:function(t,e){var n=t.dataTransfer;if(this._offUpEvents(),e){var o=p.getBoundingClientRect(),r=s(p),a;f=p.cloneNode(!0),s(f,"top",o.top-N(r.marginTop,10)),s(f,"left",o.left-N(r.marginLeft,10)),s(f,"width",o.width),s(f,"height",o.height),s(f,"opacity","0.8"),s(f,"position","fixed"),s(f,"zIndex","100000"),m.appendChild(f),a=f.getBoundingClientRect(),s(f,"width",2*o.width-a.width),s(f,"height",2*o.height-a.height),i(w,"touchmove",this._onTouchMove),i(w,"touchend",this._onDrop),i(w,"touchcancel",this._onDrop),this._loopId=setInterval(this._emulateDragOver,150)}else n.effectAllowed="move",n.setData("Text",p.textContent),i(w,"drop",this._onDrop);setTimeout(this._applyEffects)},_onDragOver:function(t){if(!D&&_===this.options.group&&(void 0===t.rootEl||t.rootEl===this.el)){var e=this.el,o=n(t.target,this.options.draggable,e),i=p.getBoundingClientRect();if(0===e.children.length||e.children[0]===f||e===t.target&&h(e,t))e.appendChild(p),this._animate(i,p),this._velocity();else if(o&&!o.animated&&o!==p&&void 0!==o.parentNode[C]){v!==o&&(v=o,y=s(o));var r=o.getBoundingClientRect(),a=r.right-r.left,l=r.bottom-r.top,c=/left|right|inline/.test(y.cssFloat+y.display),u=o.offsetWidth>p.offsetWidth,m=o.offsetHeight>p.offsetHeight,g=(c?(t.clientX-r.left)/a:(t.clientY-r.top)/l)>.5,b=o.nextElementSibling,E;D=!0,setTimeout(d,30),E=c?o.previousElementSibling===p&&!u||g&&u:b!==p&&!m||g&&m,E&&!b?(e.appendChild(p),this._animate(i,p),this._velocity()):(o.parentNode.insertBefore(p,E?b:o),this._animate(i,p),this._animate(r,o),this._velocity())}}},_animate:function(t,e){var n=this.options.animation;if(n){var o=e.getBoundingClientRect();s(e,"transition","none"),s(e,"transform","translate3d("+(t.left-o.left)+"px,"+(t.top-o.top)+"px,0)"),e.offsetWidth,s(e,"transition","all "+n+"ms"),s(e,"transform","translate3d(0,0,0)"),clearTimeout(e.animated),e.animated=setTimeout(function(){s(e,"transition",""),e.animated=!1},n)}},_velocity:function(){for(var t=w.querySelector("#items"),e=t.getBoundingClientRect(),n=t.querySelectorAll(".btn-word"),o=t.parentNode.querySelector(".clones").querySelectorAll(".clone"),i,r,a,s,l=0,c=n.length;c>l;l++)i=n[l],r=i.getBoundingClientRect(),s=i.getAttribute("data-pos")-1,a=o[s],Velocity(a,{translateX:r.left-e.left-10+"px",translateY:r.top-e.top-10+"px"},{duration:200,easing:[.645,.045,.355,1]})},_offUpEvents:function(){r(w,"mouseup",this._onDrop),r(w,"touchmove",this._onTouchMove),r(w,"touchend",this._onDrop),r(w,"touchcancel",this._onDrop)},_onDrop:function(t){clearInterval(this._loopId),r(w,"drop",this._onDrop),r(w,"dragover",o),r(this.el,"dragend",this._onDrop),r(this.el,"dragstart",this._onDragStart),r(this.el,"selectstart",this._onTapStart),this._offUpEvents(),t&&(t.preventDefault(),t.stopPropagation(),f&&f.parentNode.removeChild(f),p&&(c(p),a(p,this.options.ghostClass,!1),m.contains(p)?p.nextSibling!==g&&A(p,"update"):(A(m,"remove",p),A(p,"add")),A(p,"end")),m=p=f=g=b=E=v=y=_=null,this.options.store&&this.options.store.set(this))},toArray:function(){for(var t=[],e,o=this.el.children,i=0,r=o.length;r>i;i++)e=o[i],n(e,this.options.draggable,this.el)&&t.push(e.getAttribute("data-id")||u(e));return t},sort:function(t){var e={},o=this.el;this.toArray().forEach(function(t,i){var r=o.children[i];n(r,this.options.draggable,o)&&(e[t]=r)},this),t.forEach(function(t){e[t]&&(o.removeChild(e[t]),o.appendChild(e[t]))})},closest:function(t,e){return n(t,e||this.options.draggable,this.el)},destroy:function(){var t=this.el,e=this.options;B.forEach(function(n){r(t,n.substr(2).toLowerCase(),e[n])}),r(t,"mousedown",this._onTapStart),r(t,"touchstart",this._onTapStart),r(t,"selectstart",this._onTapStart),r(t,"dragover",this._onDragOver),r(t,"dragenter",this._onDragOver),Array.prototype.forEach.call(t.querySelectorAll("[draggable]"),function(t){t.removeAttribute("draggable")}),k.splice(k.indexOf(this._onDragOver),1),this._onDrop(),this.el=null}},t.utils={on:i,off:r,css:s,find:l,bind:e,closest:n,toggleClass:a,createEvent:x,dispatchEvent:A},t.version="0.6.0",t.create=function(e,n){return new t(e,n)},t}),Sentence.prototype={constructor:Sentence,homeIn:function(){var t=this,e=document.createElement("div"),n="btn-menu btn-menu-hidden",o=document.createElement("button"),i=o.cloneNode(!0),r=o.cloneNode(!0),a,s;e.className="items center",e.id="menu-home",o.className=n+" btn-menu-1",o.innerHTML='<span>Od podstaw</span><div class="percent">87%</div>',o.addEventListener("click",function(){t.homeOut("a")}),i.className=n+" btn-menu-2",i.innerHTML='<span>Åšrednio-zaawansowane</span><div class="percent">100%</div>',i.addEventListener("click",function(){t.homeOut("b")}),r.className=n+" btn-menu-3",r.innerHTML='<span>Zaawansowane</span><div class="percent">5%</div>',r.addEventListener("click",function(){t.homeOut("c")}),e.appendChild(o),e.appendChild(i),e.appendChild(r),this.store.content.appendChild(e),a=[o,i,r];for(var l=0,c=a.length;c>l;l++)s=a[l],Velocity(s,{opacity:[1,0],translateX:[0,"200px"]},{duration:400,easing:[.645,.045,.355,1],delay:100*l})},homeOut:function(t){var e=this,n=document.querySelectorAll(".btn-menu"),o,i;this._changeColor(t);for(var r=0,a=n.length;a>r;r++)o=n[r],Velocity(o,{opacity:[0,1],translateX:["-200px",0]},{duration:400,easing:[.645,.045,.355,1],delay:100*r,complete:function(o){o.forEach(function(o,r,a){o===n[n.length-1]&&e._createSentence(t,i)})}})},comeIn:function(){function t(t){setTimeout(function(){a=o[t],s=a.getBoundingClientRect(),d=a.getAttribute("data-pos")-1,l=i.querySelectorAll(".clone")[d],Velocity.hook(l,"translateX",s.left-n.left-10+"px"),Velocity.hook(l,"opacity",1)},100*t)}for(var e=document.getElementById("wrapper-items"),n=e.getBoundingClientRect(),o=e.querySelectorAll(".btn-word"),i=document.createElement("div"),r=400,a,s,l,c,d,h=0,u=o.length;u>h;h++)a=o[h],s=a.getBoundingClientRect(),l=a.cloneNode(!0),l.className=l.className+" clone",a.setAttribute("data-pos",h+1),Velocity.hook(l,"translateX",s.left-n.left-10+r+"px"),Velocity.hook(l,"translateY",s.top-n.top-10+"px"),i.appendChild(l);i.className="clones",e.parentNode.appendChild(i),c=i.firstChild;for(var h=0,u=o.length;u>h;h++)t(h);this._newSortable()},showTrans:function(){for(var t=document.querySelector(".translation"),e=t.querySelectorAll("span"),n,o=0,i=e.length;i>o;o++)n=e[o],Velocity(n,{opacity:[1,0],translateX:[0,"400px"]},{duration:200,easing:[.645,.045,.355,1],delay:100*o});this._removeFooter()},_createSentence:function(t,e){function n(t){var e=r.forEach(function(e,n,o){return t===e?!1:void 0})}var e=0;this._getSentence(t,e);var o=this,i=this.store.sentence,r=i.s,a=i.b;void 0===a&&(a=!1);var s=document.createElement("div"),l=document.createElement("div"),c,d,h;for(s.className="space-x4",s.id="wrapper-items",l.className="btn btn-word btn-s-2",c=r[0].sort(function(){return.5-Math.random()});n(c);)c=r[0].sort(function(){return.5-Math.random()});for(var u=0,p=c.length;p>u;u++)d=l.cloneNode(!0),d.innerHTML=c[u],s.appendChild(d);this._removeHome(),h=this._createItemsWrapper(),h.insertBefore(s,h.firstChild),this._createFooter(),this._createTranslation(t,e),this.comeIn()},_finishedSentence:function(){},_createTranslation:function(){var t=this,e=this.store.content,n=this.store.sentence,o=n.t,i=document.createElement("p"),r;tSplited=o.split(" ");for(var a=0,s=o.length;s>a;a++)r=document.createElement("span"),r.appendChild(document.createTextNode(tSplited[a])),i.appendChild(r),s-1>a&&i.appendChild(document.createTextNode(" "));i.id="translation",i.className="translation",e.appendChild(i)},_createFooter:function(){var t=this,e=this.store.content,n=document.createElement("footer"),o=document.createElement("div"),i=document.createElement("button");n.className="app-footer",o.className="section-content section-1-1 group centered",o.id="wrapper-buttons",i.className="btn btn-translate",i.appendChild(document.createTextNode("Tips")),i.id="translate",i.type="button",i.addEventListener("click",function r(){t.showTrans(),i.removeEventListener("click",r,!1)},!1),o.appendChild(i),n.appendChild(o),e.appendChild(n)},_removeFooter:function(){var t=this.store.content,e=document.querySelector(".app-footer"),n=document.getElementById("translate");Velocity(n,{opacity:0,translateY:"1rem"},{duration:200,easing:[.645,.045,.355,1],visibility:"hidden",complete:function(){var n=t.removeChild(e);n=null}})},_removeHome:function(){try{var t=this.store.content,e=document.getElementById("menu-home"),n=e.cloneNode(!0),o=t.replaceChild(n,e),i=t.removeChild(n);o=i=null}catch(r){}},_getSentence:function(t,e){var n;return"a"===t?n=arrayA(e):"b"===t?n=arrayB(e):"c"===t?n=arrayC(e):console.log("level not provided"),this.store.sentence=n},_getLevels:function(){},_changeColor:function(t){try{var e=document.getElementById("section"),n=" section-100";switch(t){case"a":e.className="section-green"+n;break;case"b":e.className="section-orange"+n;break;case"c":e.className="section-red"+n;break;case"menu":e.className="section-dark"+n}}catch(o){}},_createItemsWrapper:function(){var t=this.store.content,e=document.createElement("div");return e.className="items items-on-board",e.id="items",t.appendChild(e),e},_getWrapper:function(){try{var t=document.getElementById("wrapper-items");return t}catch(e){}},_newSortable:function(){var t=this._getWrapper(),e=new Sortable(t);this.store.sortable=e},_destroySortable:function(){var t=this.store.sortable;t.destroy()}};var sentence=new Sentence;window.addEventListener("load",function(){sentence.homeIn()},!1);