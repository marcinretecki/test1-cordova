function Sentence(){this.store={content:document.getElementById("content"),words:[],clones:[],wordPositions:[]}}Sentence.prototype={constructor:Sentence,homeIn:function(){var e=this,t=document.createElement("div"),n="btn-menu btn-menu-hidden",o=document.createElement("button"),r=o.cloneNode(!0),a=o.cloneNode(!0),i,s;t.className="items center",t.id="menu-home",o.className=n+" btn-menu-1",o.innerHTML='<span>Od podstaw</span><div class="percent">87%</div>',o.addEventListener("click",function(){e.homeOut("a")}),r.className=n+" btn-menu-2",r.innerHTML='<span>Åšrednio-zaawansowane</span><div class="percent">100%</div>',r.addEventListener("click",function(){e.homeOut("b")}),a.className=n+" btn-menu-3",a.innerHTML='<span>Zaawansowane</span><div class="percent">5%</div>',a.addEventListener("click",function(){e.homeOut("c")}),t.appendChild(o),t.appendChild(r),t.appendChild(a),this.store.content.appendChild(t),i=[o,r,a];for(var c=0,l=i.length;l>c;c++)s=i[c],Velocity(s,{opacity:[1,0],translateX:[0,"200px"]},{duration:400,easing:[.645,.045,.355,1],delay:100*c})},homeOut:function(e){var t=this,n=document.querySelectorAll(".btn-menu"),o,r;this._changeColor(e);for(var a=0,i=n.length;i>a;a++)o=n[a],Velocity(o,{opacity:[0,1],translateX:["-200px",0]},{duration:400,easing:[.645,.045,.355,1],delay:100*a,complete:function(o){o.forEach(function(o,a,i){o===n[n.length-1]&&t._createSentence(e,r)})}})},comeIn:function(){function e(e){setTimeout(function(){s=r[e],d=s.getAttribute("data-pos")-1,l=a.querySelectorAll(".clone")[d],Velocity.hook(l,"left",u[e].left+"px"),Velocity.hook(l,"opacity",1)},100*e)}var t=this,n=document.getElementById("wrapper-items"),o=n.getBoundingClientRect(),r=this.store.words,a=document.createElement("div"),i=400,s,c,l,d,p,u=[];this.store.wrapperPosition=o;for(var m=0,h=r.length;h>m;m++){s=r[m],c=s.getBoundingClientRect(),u[m]={left:c.left-o.left-10,top:c.top-o.top-10};var f=this.store.wordPositions.push(u);l=s.cloneNode(!0),l.className=l.className+" clone",s.setAttribute("data-pos",m+1),Velocity.hook(l,"left",u[m].left+i+"px"),Velocity.hook(l,"top",u[m].top+"px"),a.appendChild(l),p=this.store.clones.push(l)}this.store.wordPositions=u,a.className="clones",n.parentNode.appendChild(a),cloned_node=a.firstChild;for(var m=0,h=r.length;h>m;m++)e(m);this._newSortable()},showTrans:function(){for(var e=document.querySelector(".translation"),t=e.querySelectorAll("span"),n,o=0,r=t.length;r>o;o++)n=t[o],Velocity(n,{opacity:[1,0],translateX:[0,"200px"]},{duration:200,easing:[.645,.045,.355,1],delay:100*o});this._removeFooter()},animate:function(){for(var e=this.store.words,t=this.store.clones,n=this.store.clonesPositions,o=this.store.wordPositions,r=this.store.wrapperPosition,a=[],i,s,c=0,l=e.length;l>c;c++)i=e[c].getBoundingClientRect(),a[c]={left:i.left-r.left-10,top:i.top-r.top-10};for(var c=0,l=e.length;l>c;c++)Velocity.hook(t[c],"left",a[c].left+"px"),Velocity.hook(t[c],"top",a[c].top+"px")},_createSentence:function(e,t){function n(e){var t=a.forEach(function(t,n,o){return e===t?!1:void 0})}var t=0;this._getSentence(e,t);var o=this,r=this.store.sentence,a=r.s,i=r.b;void 0===i&&(i=!1);var s=document.createElement("div"),c=document.createElement("div"),l,d,p;for(s.className="space-x4",s.id="wrapper-items",c.className="btn btn-word btn-s-2",l=a[0].sort(function(){return.5-Math.random()});n(l);)l=a[0].sort(function(){return.5-Math.random()});for(var u=0,m=l.length;m>u;u++){d=c.cloneNode(!0),d.innerHTML=l[u],s.appendChild(d);var h=this.store.words.push(d)}this._removeHome(),p=this._createItemsWrapper(),p.insertBefore(s,p.firstChild),this._createFooter(),this._createTranslation(e,t),this.comeIn()},_finishedSentence:function(){},_createTranslation:function(){var e=this,t=this.store.content,n=this.store.sentence,o=n.t,r=document.createElement("p"),a;tSplited=o.split(" ");for(var i=0,s=tSplited.length;s>i;i++)a=document.createElement("span"),a.appendChild(document.createTextNode(tSplited[i])),r.appendChild(a),s-1>i&&r.appendChild(document.createTextNode(" "));r.id="translation",r.className="translation",t.appendChild(r)},_createFooter:function(){var e=this,t=this.store.content,n=document.createElement("footer"),o=document.createElement("div"),r=document.createElement("button");n.className="app-footer",o.className="section-content section-1-1 group centered",o.id="wrapper-buttons",r.className="btn btn-translate",r.appendChild(document.createTextNode("Tips")),r.id="translate",r.type="button",r.addEventListener("click",function a(){e.showTrans(),r.removeEventListener("click",a,!1)},!1),o.appendChild(r),n.appendChild(o),t.appendChild(n)},_removeFooter:function(){var e=this.store.content,t=document.querySelector(".app-footer"),n=document.getElementById("translate");Velocity(n,{opacity:0,translateY:"1rem"},{duration:200,easing:[.645,.045,.355,1],visibility:"hidden",complete:function(){var n=e.removeChild(t);n=null}})},_removeHome:function(){try{var e=this.store.content,t=document.getElementById("menu-home"),n=t.cloneNode(!0),o=e.replaceChild(n,t),r=e.removeChild(n);o=r=null}catch(a){}},_getSentence:function(e,t){var n;return"a"===e?n=arrayA(t):"b"===e?n=arrayB(t):"c"===e?n=arrayC(t):console.log("level not provided"),this.store.sentence=n},_getLevels:function(){},_changeColor:function(e){try{var t=document.getElementById("section"),n=" section-100";switch(e){case"a":t.className="section-green"+n;break;case"b":t.className="section-orange"+n;break;case"c":t.className="section-red"+n;break;case"menu":t.className="section-dark"+n}}catch(o){}},_createItemsWrapper:function(){var e=this.store.content,t=document.createElement("div");return t.className="items items-on-board",t.id="items",e.appendChild(t),t},_getWrapper:function(){try{var e=document.getElementById("wrapper-items");return e}catch(t){}},_newSortable:function(){var e=this._getWrapper(),t=this,n=new Sortable(e,{animation:0,onEnd:function(e){var t=e.item,n=e.oldIndex,o=e.newIndex}});this.store.sortable=n},_destroySortable:function(){var e=this.store.sortable;e.destroy()},_velocity:function(){for(var e=document.querySelector("#items"),t=e.getBoundingClientRect(),n=e.querySelectorAll(".btn-word"),o=e.parentNode.querySelector(".clones").querySelectorAll(".clone"),r,a,i,s,c=0,l=n.length;l>c;c++)r=n[c],a=r.getBoundingClientRect(),s=r.getAttribute("data-pos")-1,i=o[s],Velocity(i,{translateX:a.left-t.left-10+"px",translateY:a.top-t.top-10+"px"},{duration:200,easing:[.645,.045,.355,1]})}};var sentence=new Sentence;window.addEventListener("load",function(){sentence.homeIn()},!1);