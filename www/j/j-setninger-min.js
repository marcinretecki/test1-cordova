function Sentence(){this.store={content:document.getElementById("content"),words:[],clones:[],wordPositions:[],wrapperPosition:null},this.opts={easing:[.645,.045,.355,1],duration:200}}Sentence.prototype={constructor:Sentence,homeIn:function(){var e=this,t=document.createElement("div"),n="btn-menu btn-menu-hidden",o=document.createElement("button"),a=o.cloneNode(!0),i=o.cloneNode(!0),r,s;t.className="items center",t.id="menu-home",o.className=n+" btn-menu-1",o.innerHTML='<span>Od podstaw</span><div class="percent">87%</div>',o.addEventListener("click",function(){e.homeOut("a")}),a.className=n+" btn-menu-2",a.innerHTML='<span>Åšrednio-zaawansowane</span><div class="percent">100%</div>',a.addEventListener("click",function(){e.homeOut("b")}),i.className=n+" btn-menu-3",i.innerHTML='<span>Zaawansowane</span><div class="percent">5%</div>',i.addEventListener("click",function(){e.homeOut("c")}),t.appendChild(o),t.appendChild(a),t.appendChild(i),this.store.content.appendChild(t),r=[o,a,i];for(var c=0,l=r.length;l>c;c++)s=r[c],Velocity(s,{opacity:[1,0],translateX:[0,"200px"]},{duration:400,easing:e.opts.easing,delay:100*c})},homeOut:function(e){var t=this,n=document.querySelectorAll(".btn-menu"),o,a;this._changeColor(e);for(var i=0,r=n.length;r>i;i++)o=n[i],Velocity(o,{opacity:[0,1],translateX:["-200px",0]},{duration:400,easing:t.opts.easing,delay:100*i,complete:function(o){o.forEach(function(o,i,r){o===n[n.length-1]&&t._createSentence(e,a)})}})},comeIn:function(){var e=this,t=document.getElementById("wrapper-items"),n=t.getBoundingClientRect(),o=this.store.words,a=document.createElement("div"),i=document.createElement("div"),r=400,s,c,l,d,p,h,u=[],m=[];a.className="clones",i.className="wrapper-back";for(var g=0,f=o.length;f>g;g++)s=o[g],c=s.getBoundingClientRect(),u[g]={left:c.left-n.left,top:c.top-n.top},h=this.store.wordPositions.push(u),l=s.cloneNode(!0),l.className=l.className+" clone",s.setAttribute("data-pos",g+1),Velocity.hook(l,"translateX",u[g].left+r+"px"),Velocity.hook(l,"translateY",u[g].top+"px"),a.appendChild(l),p=m.push(l);this.store.clones=m,this.store.wordPositions=u,this.store.wrapperBack=i,this.store.wrapperPosition=n,t.parentNode.appendChild(a),t.parentNode.appendChild(i),Velocity.hook(i,"height",n.height+6+"px"),Velocity(i,{scaleY:[1,0],translateY:[-(n.height/2+3),0]},{duration:300,easing:e.opts.easing,queue:!1});for(var g=0,f=o.length;f>g;g++)Velocity(m[g],{opacity:1,translateX:[u[g].left,u[g].left+r]},{duration:e.opts.duration,easing:e.opts.easing,delay:100*g+200,queue:!1});this._newSortable()},showTrans:function(){for(var e=this,t=document.querySelector(".translation"),n=t.querySelectorAll("span"),o,a=0,i=n.length;i>a;a++)o=n[a],Velocity(o,{opacity:[1,0],translateX:[0,"200px"]},{duration:e.opts.duration,easing:e.opts.easing,delay:100*a});this._removeFooter()},animate:function(){for(var e=this,t=this.store.words,n=this.store.clones,o=this.store.wrapperBack,a=this.store.wordPositions,i=this.store.wrapperPosition,r=document.getElementById("wrapper-items"),s=r.getBoundingClientRect(),c=[],l=t.length,d,p,h,u,m,g=0;l>g;g++)t[g].style.paddingRight="";for(var g=0;l>g;g++)d=t[g].getBoundingClientRect(),c[g]={left:d.left-s.left,top:d.top-s.top};this.store.wordPositions=c;for(var g=0;l>g;g++)Velocity(n[g],{translateX:[c[g].left,a[g].left],translateY:[c[g].top,a[g].top]},{duration:e.opts.duration,easing:e.opts.easing,queue:!1}),l-1===g&&i.top!==s.top&&(console.log("different wrapperPositions"),Velocity(o,{height:s.height+6,translateY:[-(s.height/2+3),0]},{duration:200,easing:e.opts.easing,delay:100}),this.store.wrapperPosition=s);p=r.lastChild,h=p.getBoundingClientRect(),u=Math.floor(s.right-h.right),Velocity.hook(p,"paddingRight",u+"px")},_createSentence:function(e,t){function n(e){var t=i.forEach(function(t,n,o){return e===t?!1:void 0})}var t=0;this._getSentence(e,t);var o=this,a=this.store.sentence,i=a.s,r=a.b;void 0===r&&(r=!1);var s=document.createElement("div"),c=document.createElement("div"),l=document.createElement("div"),d,p,h;for(s.id="wrapper-items",c.className="btn-outer",l.className="btn-word",c.appendChild(l),d=i[0].sort(function(){return.5-Math.random()});n(d);)d=i[0].sort(function(){return.5-Math.random()});for(var u=0,m=d.length;m>u;u++){p=c.cloneNode(!0),p.firstChild.innerHTML=d[u],s.appendChild(p);var g=this.store.words.push(p)}this._removeHome(),h=this._createItemsWrapper(),h.insertBefore(s,h.firstChild),this._createFooter(),this._createTranslation(e,t),this.comeIn()},_finishedSentence:function(){},_createTranslation:function(){var e=this,t=this.store.content,n=this.store.sentence,o=n.t,a=document.createElement("p"),i;tSplited=o.split(" ");for(var r=0,s=tSplited.length;s>r;r++)i=document.createElement("span"),i.appendChild(document.createTextNode(tSplited[r])),a.appendChild(i),s-1>r&&a.appendChild(document.createTextNode(" "));a.id="translation",a.className="translation",t.appendChild(a)},_createFooter:function(){var e=this,t=this.store.content,n=document.createElement("footer"),o=document.createElement("div"),a=document.createElement("button");n.className="app-footer",o.className="section-content section-1-1 group centered",o.id="wrapper-buttons",a.className="btn btn-translate",a.appendChild(document.createTextNode("Tips")),a.id="translate",a.type="button",a.addEventListener("click",function i(){e.showTrans(),a.removeEventListener("click",i,!1)},!1),o.appendChild(a),n.appendChild(o),t.appendChild(n)},_removeFooter:function(){var e=this,t=this.store.content,n=document.querySelector(".app-footer"),o=document.getElementById("translate");Velocity(o,{opacity:0,translateY:"1rem"},{duration:e.opts.duration,easing:e.opts.easing,visibility:"hidden",complete:function(){var e=t.removeChild(n);e=null}})},_removeHome:function(){try{var e=this.store.content,t=document.getElementById("menu-home"),n=t.cloneNode(!0),o=e.replaceChild(n,t),a=e.removeChild(n);o=a=null}catch(i){}},_getSentence:function(e,t){var n;return"a"===e?n=arrayA(t):"b"===e?n=arrayB(t):"c"===e?n=arrayC(t):console.log("level not provided"),this.store.sentence=n},_getLevels:function(){},_changeColor:function(e){try{var t=document.getElementById("section"),n=" section-100";switch(e){case"a":t.className="section-green"+n;break;case"b":t.className="section-orange"+n;break;case"c":t.className="section-red"+n;break;case"menu":t.className="section-dark"+n}}catch(o){}},_toggleOpacity:function(e,t){try{var n=e.dataset.pos-1,o=this.store.clones[n];Velocity.hook(o,"opacity",t)}catch(a){}},_createItemsWrapper:function(){var e=this.store.content,t=document.createElement("div");return t.className="items items-on-board",t.id="items",e.appendChild(t),t},_getWrapper:function(){try{var e=document.getElementById("wrapper-items");return e}catch(t){}},_newSortable:function(){var e=this._getWrapper(),t=this,n=new Sortable(e,{animation:0,onStart:function(e){t._toggleOpacity(e.item,"0.5")},onEnd:function(e){t._toggleOpacity(e.item,"1")}});this.store.sortable=n},_destroySortable:function(){var e=this.store.sortable;e.destroy()},_velocity:function(){for(var e=this,t=document.querySelector("#items"),n=t.getBoundingClientRect(),o=t.querySelectorAll(".btn-word"),a=t.parentNode.querySelector(".clones").querySelectorAll(".clone"),i,r,s,c,l=0,d=o.length;d>l;l++)i=o[l],r=i.getBoundingClientRect(),c=i.getAttribute("data-pos")-1,s=a[c],Velocity(s,{translateX:r.left-n.left-10+"px",translateY:r.top-n.top-10+"px"},{duration:e.opts.duration,easing:e.opts.easing})}};var sentence=new Sentence;window.addEventListener("load",function(){sentence.homeIn()},!1);